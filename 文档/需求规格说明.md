#需求规格说明模板
##1. 引言
### 1.1 目的

本文档描述了课程学习网站courselearning课程购买系统的功能需求和非功能需求，开发小组的软件系统实现和验证工作都以此文档为依据。

除特殊说明之外，本文档所包含的需求都是高优先级需求。

### 1.2 范围

课程购买系统是为课程学习网站courselearning开发的业务系统，开发的目标是为该网站处理课程购买相关业务。

通过课程购买系统的应用，期望为courselearning课程学习网站提高教师用户发布课程质量、吸引学生用户并提高满意度、提供利润。

### 1.3 参考文献

1）IEEE标准。

2）课程学习网站courselearning用例文档。

##2. 总体描述

### 2.1 项目前景
#### 2.1.1 背景与机遇

courselearning是一个课程学习网站，期望为每一个渴求知识的人提供一个少走弯路的平台。平台期望具有课程展示、教师创建发布管理课程、管理课件、学生浏览购买使用课程、参加课程测试、课程评论等功能，网站希望通过售卖课程盈利。课程购买系统就是为满足课程学习网站courselearning的部分业务要求而开发的。

#### 2.1.2 业务需求

BR１：在系统使用3个月后，学生注册用户数提高30％。

### 2.2 项目功能

SF1：帮助学生用户处理购买课程任务。

### 2.3 用户特征

| 用户 |                             特征                             |
| :--: | :----------------------------------------------------------: |
| 学生 | 整个系统有未知数量的学生用户。他们在浏览网站时随时可能购买课程、查看订单、查看已购课程。学生用户的计算机操作技能较好。 |

### 2.4 约束

CON1：项目要使用持续集成方法进行开发。

CON2：在开发中，开发者要提交软件需求规格说明文档、设计描述文档和测试报告。

### 2.5 假设与依赖

无

## 3 详细需求描述
### 3.1 对外接口需求
#### 3.1.1 用户界面 
#####  UI0 系统母版

本系统为图形用户界面，采用扁平化设计风格。

本系统采用水平顶部导航栏，布局为：[网站名]+[可选]+[头像下拉框]

可选内容根据使用系统的角色为：

学生：[查找课程] [购买中心] [我的课程] [个人中心]

教师：[查找课程] [创建课程] [课程管理] [个人中心]

网站管理人员：[用户管理] [课程管理] [个人中心]

#####  UI1 登录注册页

登录注册为卡片式的表单设计，可通过tab标签切换登录/注册。登录时候需要选择登录身份。
#####  UI2 查找课程页
采用系统母版，搜索课程页为网站默认路由，顶部边栏下方并列放置课程卡片及对应的详情链接。
可在页面上方进行筛选及搜索。

#####  UI3 课程详情页

采用系统母版，顶部边栏下方为课程图片、课程点赞数、课程简介。
下方有教学信息、点击页面中的加入课程即可加入。

#####  UI4 购买中心页

采用学生系统母版，购买中心内有订单列表点击列表项可跳转至订单详情页面。

##### UI5 订单详情页

采用学生系统母版，顶部边栏下方为订单信息。

（订单号 课程名 课程价格 数量 下单时间 )

#####  UI6 我的课程页

采用学生系统母版,顶部边栏下方为已购买课程列表。

点击列表项可跳转至具体课程

##### UI7 课程管理页

1.采用教师系统母版,页内有该教师课程列表,课程右边有删除\修改项

2.采用网站管理人员系统母版,页内有所有课程列表,课程右边有删除\修改项

#####  UI8 创建课程页

采用教师系统母版,页内有信息列表,教师进行填写并创建课程.

#####  UI9 用户管理页

采用网站管理人员系统母版,页内有用户信息列表,右上搜索框可进行检索,用户信息右边有管理项.

#####  UI10 个人中心页

采用系统母版，顶部边栏下方为表格，表格展示当前登录账号的个人信息，点击修改按钮可进行个人信息修改。

(用户ID 用户名 头像 密码 手机号 余额 ...) 视具体用户

#### 3.1.2 通信接口

CI：客户端与服务器使用HTTP的方式进行通信

### 3.2 功能需求
#### 3.2.1 生成课程订单
##### 3.2.1.1 特征描述

学生用户请购买某一课程，系统完成优惠券使用、检查课程是否可购买、提示用户未支付订单、生成当前课程订单。

##### 3.2.1.2 刺激/响应序列

刺激：学生用户请求购买课程

响应：系统检查课程是否购买，若课程已购买，提示用户课程无需重复购买；若课程未购买，显示可使用优惠券

刺激：学生用户选择优惠券

响应：系统显示优惠后的价格及是否确认购买界面

刺激：学生用户选择不使用优惠券

响应：系统显示购买价格及是否确认购买界面

刺激：学生用户确认购买课程

响应：系统检查用户是否有未支付订单，若无，生成课程订单，订单状态为未支付；若有，提示用户还有其他未支付订单

刺激：用户选择查看未支付订单

响应：系统显示未支付订单列表

刺激：用户请求退出历史订单页面

响应：系统显示是否确认购买界面

刺激：用户选择忽略未支付订单

响应：系统生成课程订单，订单状态为未支付

##### 3.2.1.3 相关功能需求

###### 3.2.1.3.1信息核验

系统要对被选中的课程进行核验，只允许未被购买的课程被生成订单。用户确认购买课程时系统要对学生用户的订单列表进行检查，若还有未支付订单系统需提示用户并提供查看跳转选项。

###### 3.2.1.3.2订单自动取消

当订单生成后超过30分钟未被支付，系统将订单状态更改为已取消

#### 3.2.2支付课程订单

##### 3.2.2.1 特征描述

学生用户请求支付课程订单，系统核验订单可以被成功支付的情况下允许用户支付，并扣除用户相应余额、修改课程订单状态。

##### 3.2.2.2 刺激/响应序列

刺激：学生用户请求支付课程订单

响应：系统核验被选择的订单和用户余额，若订单状态为未购买且用户余额足够，改变订单状态为已购买，余额扣除订单金额，提示支付成功；若订单状态为已取消，系统提示支付失败，返回课程订单页面；若订单状态为未购买且用户余额不足，系统提示用户充值。

刺激：学生用户请求充值

响应：系统显示充值页面

刺激：学生用户确认充值

响应：系统增加用户余额，返回课程支付页面

刺激：用户请求取消充值

响应：系统显示课程支付页面

刺激：学生用户请求取消支付课程订单

响应：系统显示课程订单页面

刺激：用户取消订单

响应：系统更改订单状态为已取消，显示更改后的课程订单页面

##### 3.2.2.3 相关功能需求

###### 3.2.2.3.1信息核验

系统要对被选中的订单进行核验，只允许状态为未支付的订单被支付。支付时系统要对学生用户的余额进行核验，只允许余额足够支付时进行支付并修改订单状态和用户余额，在余额不足时提供跳转充值选择。

###### 3.2.2.3.2订单自动取消

当系统存储的任意订单超过30分钟未被支付，系统将订单状态转为已取消

###### 3.2.2.3.3充值余额

用户请求充值，系统提供充值余额和支付方式的选择，用户输入选择后，系统跳转第三方支付页面，进行充值。

#### 3.2.3查看订单列表

##### 3.2.3.1 特征描述

用户请求浏览订单，系统允许学生用户浏览自己的已购买订单、未购买订单、已取消订单。

##### 3.2.3.2 刺激/响应序列

刺激：学生用户请求浏览订单

响应：系统显示该用户的所有订单

刺激：学生用户请求浏览已购买的订单

响应：系统显示该用户的所有已购买订单

刺激：学生用户请求浏览未购买的订单

响应：系统显示该用户的所有未购买订单

刺激：学生用户请求浏览已取消的订单

响应：系统显示该用户的所有已取消订单

刺激：学生用户请求取消浏览订单

响应：系统显示主页

##### 3.2.3.3 相关功能需求

系统显示订单列表时，按照时间由近到远的顺序显示。

#### 3.2.4查看已购买课程列表

##### 3.2.4.1 特征描述

学生用户请求浏览已购买课程，系统允许学生用户浏览自己的已购买课程。

##### 3.2.4.2 刺激/响应序列

刺激：学生用户请求浏览已购买课程

响应：系统显示该用户的所有已购买课程

刺激：学生用户请求取消浏览已购课程列表

响应：系统显示主页

##### 3.2.4.3 相关功能需求

系统显示课程列表时，按照时间由近到远的顺序显示


### 3.3 非功能需求
#### 3.3.1  安全性

Safety1:系统应该只允许经过验证和授权的用户访问

Safety2:系统应该只允许教师用户和管理员对课程进行增加、修改、删除等操作

Safety3:系统中有一个默认的管理员账户，该账户只允许管理员用户修改口令

#### 3.3.2  可维护性

Modifiabilityl1：在系统的课程标识数据格式发生变化时，系统要能够在3人1天内完成。

Modifiability2 ：如果系统要增加新的会员服务，要能够在0.25个人月内完成。

#### 3.3.3  易用性

Usability1：教师用户在创建、管理课程时鼠标点击次数要在5次以内。

#### 3.3.4  可靠性

Reliability6：在客户端与服务器通信时，如果网络故障，系统不能出现故障。

​	Reliabilty6.1：客户端应该检测到故障，并尝试重新连接网络3次,每次15秒。

​		Reliability6.1.1：重新连接后，客户端应该继续之前的工作。

​		Reliabilty6.1.2：如果重新连接不成功，客户端应该等待5分钟后再次尝试重新连接。

​			Reliability6.1.2.1：重新连接后，客户端应该继续之前的工作。

​			Reliability6.1.2.2：如果重新连接仍然不成功，客户端报警。

#### 3.3.5  业务规则

BR1：适用(课程标识，参照日期)的课程赠送促销策略。

​        （促销课程标识=课程标识）而且（（开始日期早于等于参照日期）并且（结束日期晚于等于参照日期））

BR2：适用（额度，参照日期）的总额赠送促销策略。

​		（促销额度<=额度）而且（（开始日期早于等于参照日期）并且（结束日期晚于等于参照日期））

BR3：适用（课程标识，参照日期）的课程特价促销策略。

​       （促销商品标识=课程标识）而且（（开始日期早于晚于参照日期）并且（结束日期晚于等于参照日期））

BR4：适用（额度，参照日期）的总额特价促销策略。

​		（促销额度<=额度）而且（不存在:本促销额度<另一个促销额度<=额度）而且（（开始日期早于等于参照日期）并且（结束日期晚于等于参照日期））

BR5：积分兑换规则，该规则可能变化。

​			50积分=1元人民币

#### 3.3.6  约束

IC1：系统要在网络上分布为一个服务器和多个客户端。

IC2：数据库采用MySQL。

### 3.4  数据需求
#### 3.4.1  数据定义

DR1：系统需要存储1年内的购买记录和退货记录。

DR2：系统删除之后的课程购买数据和用户数据仍然要继续存储3个月的时间，以保证历
史数据显示的正确性。

#### 3.4.2  默认数据

默认数据用于以下两种情况:

1:系统中新增加数据时。

2:编辑数据时不小心将相关内容清空时。

Default1：课程的数量默认为1。

Default2：费用或价格的数据默认为0。

Default3：用户的默认身份为学生。

Default4：时间默认为当天。

Default5：操作人员ID默认为当前登录用户。

Default6：商品出库原因默认为到期报废。

#### 3.4.3  数据格式要求

Format1：价格和费用的格式必须是大于等于0、精确到小数点后2位的浮点数，单位为元。

Format2：日期的格式必须是yyyy-mm-dd。

Format3：数量的格式必须是正整数。

### 3.5  其他

无